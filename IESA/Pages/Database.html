<!DOCTYPE html>
<html dir="rtl">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="../Scripts/jquery-3.4.1.min.js"></script>
    <script src="../Scripts/GeneralFunctions.js"></script>
    <script src="../Scripts/ajaxCalls.js"></script>

    <!--Data Tables-->

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.24/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.dataTables.min.css">
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap.min.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link href="../Style/basic.css" rel="stylesheet" />
    <link href="../Style/database.css" rel="stylesheet" />

    <!--Data Tables-->

    <title>&#x202E; מאגר מידע – ASEI</title>
    <link rel="icon" href="https://iesa.org.il/wp-content/uploads/2020/04/cropped-favic-32x32.png">

    <script>

        //tbl1 = gamers | tbl2 = orgenaizers | tbl3 = posts | tbl4 = competitions | tbl5 = managers | tbl6 = categoies |tbl7 = ranks

        $(document).ready(function () {

            //--Navbar Script--
            const openedMenu = document.querySelector('.opened-menu');
            const closedMenu = document.querySelector('.closed-menu');
            const navbarMenu = document.querySelector('.navbar');
            const menuOverlay = document.querySelector('.overlay');

            // Opened navbarMenu
            // Closed navbarMenu
            // Closed navbarMenu by Click Outside
            openedMenu.addEventListener('click', toggleMenu);
            closedMenu.addEventListener('click', toggleMenu);
            menuOverlay.addEventListener('click', toggleMenu);

            // Toggle Menu Function
            function toggleMenu() {
                navbarMenu.classList.toggle('active');
                menuOverlay.classList.toggle('active');
                document.body.classList.toggle('scrolling');
            }

            navbarMenu.addEventListener('click', (event) => {
                if (event.target.hasAttribute('data-toggle') && window.innerWidth <= 992) {
                    // Prevent Default Anchor Click Behavior
                    event.preventDefault();
                    const menuItemHasChildren = event.target.parentElement;

                    // If menuItemHasChildren is Expanded, Collapse It
                    if (menuItemHasChildren.classList.contains('active')) {
                        collapseSubMenu();
                    } else {
                        // Collapse Existing Expanded menuItemHasChildren
                        if (navbarMenu.querySelector('.menu-item-has-children.active')) {
                            collapseSubMenu();
                        }
                        // Expand New menuItemHasChildren
                        menuItemHasChildren.classList.add('active');
                        const subMenu = menuItemHasChildren.querySelector('.sub-menu');
                        subMenu.style.maxHeight = subMenu.scrollHeight + 'px';
                    }
                }
            });

            // Collapse Sub Menu Function
            function collapseSubMenu() {
                navbarMenu.querySelector('.menu-item-has-children.active .sub-menu').removeAttribute('style');
                navbarMenu.querySelector('.menu-item-has-children.active').classList.remove('active');
            }

            // Fixed Resize Screen Function
            function resizeScreen() {
                // If navbarMenu is Open, Close It
                if (navbarMenu.classList.contains('active')) {
                    toggleMenu();
                }

                // If menuItemHasChildren is Expanded, Collapse It
                if (navbarMenu.querySelector('.menu-item-has-children.active')) {
                    collapseSubMenu();
                }
            }

            window.addEventListener('resize', () => {
                if (this.innerWidth > 992) {
                    resizeScreen();
                }
            });
            //--Navbar Script--


            //---Posts Table--- *Open*

            ajaxCall("GET", "../api/Posts/tableDBPosts", "", getPostsSuccess, Error); //Database.html - method OD1


            $(document).on("click", ".add-post-button", function () {

                window.open('Add_New_Post.html', '_blank');

            });

            $(document).on("click", ".P_deleteBTN", function () {
                var postId = this.getAttribute('data-postid');

                if (postId == 1) {
                    swal("לא ניתן למחוק פוסט שמספרו 1 - המוגדר כהודעה מטעם העמותה");
                }
                else {

                    swal({
                        title: "האם אתה בטוח?",
                        text: "פעולה זו תמחק את הפוסט לצמיתות",
                        icon: "warning",
                        buttons: true,
                        dangerMode: true
                    })
                        .then(function (willDelete) {
                            if (willDelete) DeletePost(postId);
                            //else swal("פעולה לא בוצעה"); *Not needed*
                        });

                }

            });

            //---Posts Table--- *Close*


            //---Competitions Table--- *Open*


            ajaxCall("GET", "../api/Competitions/tablecdb", "", getCompetitionsSuccess, Error); //Database.html - method OD4

            $(document).on("click", ".C_deleteBTN", function () {
                var competitionId = this.getAttribute('data-competitionid');

                swal({
                    title: "האם אתה בטוח?",
                    text: "פעולה זו תמחק את התחרות לצמיתות",
                    icon: "warning",
                    buttons: true,
                    dangerMode: true
                })
                    .then(function (willDelete) {
                        if (willDelete) DeleteCompetition(competitionId);
                        //else swal("פעולה לא בוצעה"); *Not needed*
                    });

            });

            $(document).on("click", ".add-competition-button", function () {

                window.open('Add_New_Competition.html', '_blank');

            });

            //---Competitions Table--- *Close*


            //---Ranks Table--- *Open*

            ajaxCall("GET", "../api/Competitions/tableRdb", "", getRanksSuccess, Error); //Database.html - method OD12

            var modal_ranks = document.getElementById("Modal_Ranks");


            $(document).on("click", ".reset-rank-button", function () {

                ranksModal();
                modal_ranks.style.display = "block";
            });

            $(document).on("click", "#closebtn_ranks", function () {

                modal_ranks.style.display = "none";

            });

            $(document).on("click", "#passwordcheck", function () {

                //Create a function to delete after a secured method*
                setTimeout(function () {
                    swal("סיסמא לא תקינה");
                }, 1000);

            });

            //---Ranks Table--- *Close*


            //---Gamers Table--- *Open*

            ajaxCall("GET", "../api/Gamers/tableGdb", "", getGamersSuccess, Error); //Database.html - method OD5


            $(document).on("click", ".G_deleteBTN", function () {
                var userId = this.getAttribute('data-gamerid');

                swal({
                    title: "האם אתה בטוח?",
                    text: "פעולה זו תמחק את המשתמש לצמיתות",
                    icon: "warning",
                    buttons: true,
                    dangerMode: true
                })
                    .then(function (willDelete) {
                        if (willDelete) DeleteGamer(userId);
                        //else swal("פעולה לא בוצעה"); *Not needed*
                    });

            });



            //---Gamers Table--- *Close*


            //---Orgenaizers Table--- *Open*

            ajaxCall("GET", "../api/Orgenaizers/tableOdb", "", getOrgenaizersSuccess, Error); //Database.html - method OD6


            $(document).on("click", ".O_deleteBTN", function () {
                var userId3 = this.getAttribute('data-orgenaizerid');

                swal({
                    title: "האם אתה בטוח?",
                    text: "פעולה זו תמחק את המשתמש לצמיתות",
                    icon: "warning",
                    buttons: true,
                    dangerMode: true
                })
                    .then(function (willDelete) {
                        if (willDelete) DeleteOrgenaizer(userId3);
                        //else swal("פעולה לא בוצעה"); *Not needed*
                    });

            });


            //---Orgenaizers Table--- *Close*


            //---Managers Table--- *Open*

            ajaxCall("GET", "../api/Managers/tableMdb", "", getManagersSuccess, Error); //Database.html - method OD7


            //---Managers Table--- *Close*


            //---Categories Table--- *Open*

            // ***Get the modal - create
            var modal_create = document.getElementById("Modal_C_Create");

            $(document).on("click", "#closebtn_createc", function () {

                modal_create.style.display = "none";

            });

            // ***Get the modal - edit
            var modal_edit = document.getElementById("Modal_C_Edit");

            // When the user clicks anywhere outside of the modal, close it

            window.onclick = function (event) {
                if (event.target == modal_create) {
                    modal_create.style.display = "none";
                }
                else if (event.target == modal_edit) {
                    modal_edit.style.display = "none";
                }
                else if (event.target == modal_ranks) {
                    modal_ranks.style.display = "none";
                }

            }

            $(document).on("click", "#closebtn_editc", function () {

                modal_edit.style.display = "none";

            });


            ajaxCall("GET", "../api/GamesCategories/tablecaDB", "", getCategoriesSuccess, Error); //Database.html - method OD8

            $(document).on("click", ".Ca_InactiveBTN", function () {
                var isactive = 0;
                var categoryid = this.getAttribute('data-categoryid');

                ajaxCall("PUT", "../api/GamesCategories/tablecstatus?isactive=" + isactive + "&categoryid=" + categoryid, "", UpdateSuccessCa, Error); //Database.html - method OD9
            });

            $(document).on("click", ".Ca_ActiveBTN", function () {
                var isactive = 1;
                var categoryid = this.getAttribute('data-categoryid');

                ajaxCall("PUT", "../api/GamesCategories/tablecstatus?isactive=" + isactive + "&categoryid=" + categoryid, "", UpdateSuccessCa, Error); //Database.html - method OD9
            });

            $(document).on("click", ".add-category-button", function () {

                addcategoryModal();
                modal_create.style.display = "block";
            });


            $(document).on("click", ".Ca_editBTN", function () {
                categoryid = this.getAttribute('data-categoryid'); //global for submit function
                categoryname = this.getAttribute('data-categoryname'); //global for submit function

                editcategoryModal(categoryname);
                modal_edit.style.display = "block";

            });


            $("#categoryadd").click(function (e) {
                e.preventDefault();

                var newcategoryadd = $("#categoryaddTB").val(); //New

                if (newcategoryadd.length >= 2) {

                    CategoryObj = {
                        Categoryname: newcategoryadd,
                    }

                    ajaxCall("POST", "../api/GamesCategories", JSON.stringify(CategoryObj), UpdateSuccessCa, Error); //Database.html - method OD11
                }
                else {
                    swal("צריך 2 תווים לפחות");
                }

            });

            $("#categoryedit").click(function (e) {
                e.preventDefault();
                //we got categoryname + categoryid from clicking on the edit icon before

                var newcategory = $("#categoryeditTB").val(); //New

                if (newcategory.length >= 2) {
                    //swal("מעדכן את: " + categoryname);

                    ajaxCall("PUT", "../api/GamesCategories/editcname?newcategory=" + newcategory + "&categoryid=" + categoryid, "", UpdateSuccessCa, Error); //Database.html - method OD10
                }
                else {
                    swal("צריך 2 תווים לפחות"); //צריך לעשות שיתקבל הודעה פנימית בFORM אבל יש בעיות עם השליחה
                }

            });




            //---Categories Table--- *Close*


        });


        function init() {

            //Check if the user is manager
        }


        function getGamersSuccess(gamersdata) {
            console.log(gamersdata);

            gamers = gamersdata; // keep the gamers array in a global variable;

            try {
                tbl1 = $('#GamersTable').DataTable({
                    data: gamersdata,
                    "language": {
                        "info": "",
                        "infoEmpty": "",
                        "infoFiltered": "",
                        "emptyTable": "אין נתונים זמינים בטבלה",
                        "zeroRecords": "לא נמצאו תוצאות",
                        "search": "חפש: ",
                        "paginate": {
                            "previous": "הקודם",
                            "next": "הבא",
                        },
                    },
                    responsive: true,
                    pageLength: 10,
                    columns: [
                        { data: "Userid", className: "uniqueClassName" },
                        { data: "Firstname", className: "uniqueClassName" },
                        { data: "Lastname", className: "uniqueClassName" },
                        { data: "Nickname", className: "uniqueClassName" },
                        { data: "Phone", className: "uniqueClassName" },
                        { data: "Email", className: "uniqueClassName" },
                        {
                            "data": "Dob",
                            "render": function (data) {
                                var date = new Date(data);
                                var month = date.getMonth() + 1;
                                var day = date.getDate();
                                day = day.toString().length > 1 ? day : "0" + day;
                                return day + "/" + (month.toString().length > 1 ? month : "0" + month) + "/" + date.getFullYear();
                            }
                            , className: "uniqueClassName"
                        },

                        {
                            render: function (data, type, row, meta) {
                                let dataGamers = "data-gamerid='" + row.Userid + "'"; //User id for buttons

                                G_deleteBtn = "<a href='javascript:;' class='delete' title='מחק'><i class='G_deleteBTN bi bi-trash' " + dataGamers + "></i></a>";
                                G_editBtn = "<a href='Edit_Personal_By_Manager.html?userid=" + row.Userid + "' target='_blank' class='edit' title='ערוך'><i class='G_editBTN bi bi-pencil' " + dataGamers + "></i></a>";
                                G_viewBtn = "<a href='Profile_View_Manager.html?userid=" + row.Userid + "' target='_blank' class='view' title='צפה'><i class='G_viewBTN bi bi-eye' " + dataGamers + "></i></a>";

                                return G_deleteBtn + G_editBtn + G_viewBtn;
                            }
                            , className: "uniqueClassName"
                        }

                    ],
                });

            }

            catch (err) {
                alert(err);
            }
        }

        function Error(err) {
            console.log(err);

            swal(err.responseJSON.ExceptionMessage);
        }


        function redrawTable(tbl, data) { //Render table
            tbl.clear();
            for (var i = 0; i < data.length; i++) {
                tbl.row.add(data[i]);
            }
            tbl.draw();
        }


        function DeleteGamer(userId) {

            ajaxCall("PUT", "../api/Gamers/delg?todeleteid=" + userId, "", UpdateSuccessG, Error); //(#) Manager_Main_Page.html - method OM2
        }


        function UpdateSuccessG(data) {

            ajaxCall("GET", "../api/Gamers/tableGdb", "", UpdateSuccessG2, Error); //Database.html - method OD5
        }

        function UpdateSuccessG2(gamersdata) {

            redrawTable(tbl1, gamersdata);
            ajaxCall("GET", "../api/Managers/tablestats", "", getStatisticsSuccess, Error); //(#) Manager_Main_Page.html - method OM9
            swal("פעולה בוצעה בהצלחה", "", "success");
        }

        function DeletePost(postId) {

            ajaxCall("PUT", "../api/Posts/delp?todeleteid=" + postId, "", UpdateSuccessP, Error); //Database.html - method OD2
        }

        function UpdateSuccessP(data) {

            ajaxCall("GET", "../api/Posts/tableDBPosts", "", UpdateSuccessP2, Error); //Database.html - method OD1
        }

        function UpdateSuccessP2(postsdata) {

            redrawTable(tbl3, postsdata);
            swal("פעולה בוצעה בהצלחה", "", "success");
        }


        function DeleteCompetition(competitionId) {


            ajaxCall("PUT", "../api/Competitions/delc?todeleteid=" + competitionId, "", UpdateSuccessC, Error); //Database.html - method OD3
        }

        function UpdateSuccessC(data) {

            ajaxCall("GET", "../api/Competitions/tablecdb", "", UpdateSuccessC2, Error); //Database.html - method OD4
        }

        function UpdateSuccessC2(competitionsdata) {

            redrawTable(tbl4, competitionsdata);
            ajaxCall("GET", "../api/Managers/tablestats", "", getStatisticsSuccess, Error); //(#) Manager_Main_Page.html - method OM9
            swal("פעולה בוצעה בהצלחה", "", "success");
        }


        function getOrgenaizersSuccess(orgenaizersdata) {
            console.log(orgenaizersdata);


            orgenaizers = orgenaizersdata; // keep the orgenaizers array in a global variable;

            try {
                tbl2 = $('#OrgenaizersTable').DataTable({
                    data: orgenaizersdata,
                    "language": {
                        "info": "",
                        "infoEmpty": "",
                        "infoFiltered": "",
                        "emptyTable": "אין נתונים זמינים בטבלה",
                        "zeroRecords": "לא נמצאו תוצאות",
                        "search": "חפש: ",
                        "paginate": {
                            "previous": "הקודם",
                            "next": "הבא",
                        },
                    },
                    responsive: true,
                    pageLength: 10,
                    columns: [
                        { data: "Userid", className: "uniqueClassName" },
                        { data: "Firstname", className: "uniqueClassName" },
                        { data: "Lastname", className: "uniqueClassName" },
                        { data: "Comunityname", className: "uniqueClassName" },
                        { data: "Phone", className: "uniqueClassName" },
                        { data: "Email", className: "uniqueClassName" },
                        {
                            "data": "Dob",
                            "render": function (data) {
                                var date = new Date(data);
                                var month = date.getMonth() + 1;
                                var day = date.getDate();
                                day = day.toString().length > 1 ? day : "0" + day;
                                return day + "/" + (month.toString().length > 1 ? month : "0" + month) + "/" + date.getFullYear();
                            }
                            , className: "uniqueClassName"
                        },
                        {
                            render: function (data, type, row, meta) {
                                let dataOrgenaizers = "data-orgenaizerid='" + row.Userid + "'"; //User id for buttons

                                O_deleteBtn = "<a href='javascript:;' class='delete' title='מחק'><i class='O_deleteBTN bi bi-trash' " + dataOrgenaizers + "></i></a>";
                                O_editBtn = "<a href='Edit_Personal_By_Manager.html?userid=" + row.Userid + "' target='_blank' class='edit' title='ערוך'><i class='O_editBTN bi bi-pencil' " + dataOrgenaizers + "></i></a>";
                                O_viewBtn = "<a href='Profile_View_Manager.html?userid=" + row.Userid + "' target='_blank' class='view' title='צפה'><i class='O_viewBTN bi bi-eye' " + dataOrgenaizers + "></i></a>";

                                return O_deleteBtn + O_editBtn + O_viewBtn;
                            }
                            , className: "uniqueClassName"
                        }

                    ],
                });

            }

            catch (err) {
                alert(err);
            }
        }


        function DeleteOrgenaizer(userId) {

            ajaxCall("PUT", "../api/Orgenaizers/delo?todeleteid=" + userId, "", DeleteSuccessO, Error); //(#) Manager_Main_Page.html - method OM5
        }

        function DeleteSuccessO(data) {
            console.log(data);

            ajaxCall("GET", "../api/Orgenaizers/tableOdb", "", UpdateSuccessO2, Error); //Database.html - method OD6
        }

        function UpdateSuccessO2(orgenaizersdata) {
            console.log(orgenaizersdata);

            redrawTable(tbl2, orgenaizersdata);
            ajaxCall("GET", "../api/Managers/tablestats", "", getStatisticsSuccess, Error); //(#) Manager_Main_Page.html - method OM9
            swal("פעולה בוצעה בהצלחה", "", "success");
        }

        function UpdateSuccessCa(data) {

            ajaxCall("GET", "../api/GamesCategories/tablecaDB", "", UpdateSuccessCa2, Error); //Database.html - method OD8
        }

        function UpdateSuccessCa2(categoriesdata) {

            redrawTable(tbl6, categoriesdata);
            swal("פעולה בוצעה בהצלחה", "", "success");
        }


        function getPostsSuccess(postsdata) {
            console.log(postsdata);

            posts = postsdata; // keep the gamers array in a global variable;

            try {
                tbl3 = $('#PostsTable').DataTable({
                    data: postsdata,
                    "order": [[0, "desc"]],
                    "language": {
                        "info": "",
                        "infoEmpty": "",
                        "infoFiltered": "",
                        "emptyTable": "אין נתונים זמינים בטבלה",
                        "zeroRecords": "לא נמצאו תוצאות",
                        "search": "חפש: ",
                        "paginate": {
                            "previous": "הקודם",
                            "next": "הבא",
                        },
                    },
                    responsive: true,
                    pageLength: 10,
                    columns: [
                        { data: "Postid", className: "uniqueClassName" },
                        {
                            "data": "Title",
                            "render": function (data) {
                                if (data.length > 40) {
                                    var title_edit = data.substring(0, 38);
                                    var title_after = title_edit + "..";
                                    return title_after;
                                }
                                else {
                                    return data;
                                }

                            }
                            , className: "uniqueClassName"
                        },
                        { data: "Category", className: "uniqueClassName" },
                        { data: "Viewsnum", className: "uniqueClassName" },
                        {
                            "data": "Postdate",
                            "render": function (data) {
                                var date = new Date(data);
                                var month = date.getMonth() + 1;
                                var day = date.getDate();
                                day = day.toString().length > 1 ? day : "0" + day;
                                return day + "/" + (month.toString().length > 1 ? month : "0" + month) + "/" + date.getFullYear();
                            }
                            , className: "uniqueClassName"
                        },

                        {
                            render: function (data, type, row, meta) {
                                let dataPosts = "data-postid='" + row.Postid + "'"; //User id for buttons

                                P_viewBtn = "<a href='Post.html?postid=" + row.Postid + "' target='_blank' class='view' title='צפה'><i class='P_viewBTN bi bi-eye' " + dataPosts + "></i></a>";
                                P_editBtn = "<a href='Edit_Post.html?postid=" + row.Postid + "' target='_blank' class='edit' title='ערוך'><i class='P_editBTN bi bi-pencil' " + dataPosts + "></i></a>";
                                P_deleteBtn = "<a href='javascript:;' class='delete' title='מחק'><i class='P_deleteBTN bi bi-trash' " + dataPosts + "></i></a>";

                                return P_deleteBtn + P_editBtn + P_viewBtn;
                            }
                            , className: "uniqueClassName"
                        }

                    ],
                });

            }

            catch (err) {
                alert(err);
            }
        }


        function getCompetitionsSuccess(competitionsdata) {
            console.log(competitionsdata);

            competitions = competitionsdata;

            try {
                tbl4 = $('#CompetitionsTable').DataTable({
                    data: competitionsdata,
                    "language": {
                        "info": "",
                        "infoEmpty": "",
                        "infoFiltered": "",
                        "emptyTable": "אין נתונים זמינים בטבלה",
                        "zeroRecords": "לא נמצאו תוצאות",
                        "search": "חפש: ",
                        "paginate": {
                            "previous": "הקודם",
                            "next": "הבא",
                        },
                    },
                    responsive: true,
                    pageLength: 10,
                    columns: [
                        { data: "Competitionid", className: "uniqueClassName" },
                        {
                            "data": "Competitionname",
                            "render": function (data) {
                                if (data.length > 27) {
                                    var title_edit = data.substring(0, 25);
                                    var title_after = title_edit + "..";
                                    return title_after;
                                }
                                else {
                                    return data;
                                }

                            }
                            , className: "uniqueClassName"
                        },

                        {
                            "data": "Competitionstatus",
                            "render": function (data) {

                                switch (data) {
                                    case '1':
                                        status = "הוגשה";
                                        break;
                                    case '2':
                                        status = "אושרה";
                                        break;
                                    case '3':
                                        status = "נדחתה";
                                        break;
                                    case '4':
                                        status = "הזנת דירוגים";
                                        break;
                                    case '5':
                                        status = "אישור דירוגים";
                                        break;
                                    case '6':
                                        status = "דירוגים נדחו";
                                        break;
                                    case '7':
                                        status = "דירוגים אושרו";
                                        break;
                                    case '8':
                                        status = "דירוגים שונו";
                                }

                                return status;

                            }
                            , className: "uniqueClassName"
                        },

                        {
                            "data": "Isiesa",
                            "render": function (data) {
                                if (data == 0) {
                                    return "קהילה";
                                }
                                else {
                                    return "עמותה";
                                }
                            }
                            , className: "uniqueClassName"
                        },
                        {
                            "data": "Ispro",
                            "render": function (data) {
                                if (data == 0) {
                                    return "פתוחה";
                                }
                                else {
                                    return "מקצועית";
                                }
                            }
                            , className: "uniqueClassName"
                        },
                        { data: "Console", className: "uniqueClassName" },
                        {
                            "data": "Startdate",
                            "render": function (data) {
                                var date = new Date(data);
                                var month = date.getMonth() + 1;
                                var day = date.getDate();
                                day = day.toString().length > 1 ? day : "0" + day;
                                return day + "/" + (month.toString().length > 1 ? month : "0" + month) + "/" + date.getFullYear();
                            }
                            , className: "uniqueClassName"
                        },
                        {
                            "data": "Enddate",
                            "render": function (data) {
                                var date = new Date(data);
                                var month = date.getMonth() + 1;
                                var day = date.getDate();
                                day = day.toString().length > 1 ? day : "0" + day;
                                return day + "/" + (month.toString().length > 1 ? month : "0" + month) + "/" + date.getFullYear();
                            }
                            , className: "uniqueClassName"
                        },

                        {
                            render: function (data, type, row, meta) {
                                let dataCompetitions = "data-competitionid='" + row.Competitionid + "'";

                                C_viewBtn = "<a href='Competition_View.html?competitionid=" + row.Competitionid + "' target = '_blank' class='view' title='צפה'><i class='C_viewBTN bi bi-eye' " + dataCompetitions + "></i></a>";
                                C_editBtn = "<a href='Edit_Competition.html?competitionid=" + row.Competitionid + "' target='_blank' class='edit' title='ערוך'><i class='C_editBTN bi bi-pencil' " + dataCompetitions + "></i></a>";
                                C_deleteBtn = "<a href='javascript:;' class='delete' title='מחק'><i class='C_deleteBTN bi bi-trash' " + dataCompetitions + "></i></a>";

                                return C_deleteBtn + C_editBtn + C_viewBtn;
                            }
                            , className: "uniqueClassName"
                        }

                    ],
                });

            }

            catch (err) {
                alert(err);
            }
        }

        function getManagersSuccess(managersdata) {
            console.log(managersdata);

            managers = managersdata;

            try {
                tbl5 = $('#ManagersTable').DataTable({
                    data: managersdata,
                    "language": {
                        "info": "",
                        "infoEmpty": "",
                        "infoFiltered": "",
                        "emptyTable": "אין נתונים זמינים בטבלה",
                        "zeroRecords": "לא נמצאו תוצאות",
                        "search": "חפש: ",
                        "paginate": {
                            "previous": "הקודם",
                            "next": "הבא",
                        },
                    },
                    responsive: true,
                    pageLength: 10,
                    columns: [
                        { data: "Userid", className: "uniqueClassName" },
                        { data: "Firstname", className: "uniqueClassName" },
                        { data: "Lastname", className: "uniqueClassName" },
                        { data: "Role1", className: "uniqueClassName" },
                        { data: "Phone", className: "uniqueClassName" },
                        { data: "Email", className: "uniqueClassName" },
                        {
                            "data": "Dob",
                            "render": function (data) {
                                var date = new Date(data);
                                var month = date.getMonth() + 1;
                                var day = date.getDate();
                                day = day.toString().length > 1 ? day : "0" + day;
                                return day + "/" + (month.toString().length > 1 ? month : "0" + month) + "/" + date.getFullYear();
                            }
                            , className: "uniqueClassName"
                        },

                        {
                            render: function (data, type, row, meta) {
                                let dataManagers = "data-managerid='" + row.Userid + "'"; //User id for buttons

                                M_viewBtn = "<a href='Profile_View_Manager.html?userid=" + row.Userid + "' target='_blank' class='view' title='צפה'><i class='M_viewBTN bi bi-eye' " + dataManagers + "></i></a>";

                                return M_viewBtn;
                            }
                            , className: "uniqueClassName"
                        }

                    ],
                });

            }

            catch (err) {
                alert(err);
            }
        }

        function getCategoriesSuccess(categoriesdata) {
            console.log(categoriesdata);

            categories = categoriesdata;

            try {
                tbl6 = $('#CategoriesTable').DataTable({
                    data: categoriesdata,
                    "order": [[1, "desc"], [0, "asc"]],
                    "language": {
                        "info": "",
                        "infoEmpty": "",
                        "infoFiltered": "",
                        "emptyTable": "אין נתונים זמינים בטבלה",
                        "zeroRecords": "לא נמצאו תוצאות",
                        "search": "חפש: ",
                        "paginate": {
                            "previous": "הקודם",
                            "next": "הבא",
                        },
                    },
                    responsive: true,
                    pageLength: 10,
                    columns: [

                        { data: "Categoryname", className: "uniqueClassName" },
                        {
                            "data": "Status1",
                            "render": function (data) {
                                if (data == 0) {
                                    isactive = 0;
                                    return "לא פעיל";
                                }
                                else {
                                    isactive = 1;
                                    return "פעיל";
                                }
                            }
                            , className: "uniqueClassName"
                        },

                        {
                            render: function (data, type, row, meta) {
                                let dataCategoriesid = "data-categoryid='" + row.Categoryid + "'";
                                let dataCategoriesname = "data-categoryname='" + row.Categoryname + "'";

                                if (isactive == 0) {
                                    Ca_ActiveBtn = "<a href='javascript:;' class='admit' title='הפוך לפעיל'><i class='Ca_ActiveBTN bi bi-check-circle' " + dataCategoriesid + " " + dataCategoriesname + "></i></a>";
                                    CA_editBtn = "<a href='javascript:;' class='edit' title='ערוך'><i class='Ca_editBTN bi bi-pencil' " + dataCategoriesid + " " + dataCategoriesname + "></i></a>";
                                    return CA_editBtn + Ca_ActiveBtn;
                                }
                                else {
                                    Ca_InactiveBtn = "<a href='javascript:;' class='delete' title='הפוך ללא פעיל'><i class='Ca_InactiveBTN bi bi-x-circle' " + dataCategoriesid + " " + dataCategoriesname + "></i></a>";
                                    CA_editBtn = "<a href='javascript:;' class='edit' title='ערוך'><i class='Ca_editBTN bi bi-pencil' " + dataCategoriesid + " " + dataCategoriesname + "></i></a>";
                                    return CA_editBtn + Ca_InactiveBtn;
                                }

                            }
                            , className: "uniqueClassName"
                        }

                    ],
                    "initComplete": function () {
                        var column = this.api().column(0);

                        var values = [];
                        column.data().each(function (d, j) {
                            d.split(",").forEach(function (data) {
                                data = data.trim();

                                if (values.indexOf(data) === -1) {
                                    values.push(data);
                                }
                            });
                        });

                        $('<select class="filter"><option value=""></option></select>')
                            .append(values.sort().map(function (o) {
                                return '<option value="' + o + '">' + o + '</option>';
                            }))
                            .on('change', function () {
                                column.search(this.value ? '\\b' + this.value + '\\b' : "", true, false).draw();
                            })
                            .appendTo('#selectCategoryFilter');
                    }
                });

            }

            catch (err) {
                alert(err);
            }
        }

        function getRanksSuccess(ranksdata) {
            console.log(ranksdata);

            ranks = ranksdata;

            try {
                tbl7 = $('#RanksTable').DataTable({
                    data: ranksdata,
                    "order": [[0, "asc"], /*[1, "asc"],*/ [3, "desc"]],
                    "language": {
                        "info": "",
                        "infoEmpty": "",
                        "infoFiltered": "",
                        "emptyTable": "אין נתונים זמינים בטבלה",
                        "zeroRecords": "לא נמצאו תוצאות",
                        "search": "חפש: ",
                        "paginate": {
                            "previous": "הקודם",
                            "next": "הבא",
                        },
                    },
                    responsive: true,
                    pageLength: 10,
                    columns: [
                        { data: "Competitionname", className: "uniqueClassName" }, //categoryname
                        //{ data: "Ispro", className: "uniqueClassName" }, //rank
                        { data: "Body", className: "uniqueClassName" },

                        {
                            render: function (data, type, row, meta) {
                                let nickname = row.Address1;
                                let image = row.Linkforregistration;

                                imgStr = "<img src='../" + image + "' class='rounded-circle' style='margin-right: 3px;' alt='Image' width='25' height='25'/>";

                                return nickname + " " + imgStr;
                            }
                            , className: "uniqueClassName"
                        },

                        { data: "Isiesa", className: "uniqueClassName" },
                        {
                            render: function (data, type, row, meta) {
                                let dataRanksGamer = "data-rankgamerid='" + row.Numofparticipants + "'"; //User id for buttons

                                R_viewBtn = "<a href='Profile_View_Manager.html?userid=" + row.Numofparticipants + "' target='_blank' class='view' title='צפה'><i class='R_viewBTN bi bi-eye' " + dataRanksGamer + "></i></a>";

                                return R_viewBtn;
                            }
                            , className: "uniqueClassName"
                        }

                    ],
                    "initComplete": function () {
                        var column = this.api().column(0);

                        var values = [];
                        column.data().each(function (d, j) {
                            d.split(",").forEach(function (data) {
                                data = data.trim();

                                if (values.indexOf(data) === -1) {
                                    values.push(data);
                                }
                            });
                        });

                        $('<select class="filter"><option value=""></option></select>')
                            .append(values.sort().map(function (o) {
                                return '<option value="' + o + '">' + o + '</option>';
                            }))
                            .on('change', function () {
                                column.search(this.value ? '\\b' + this.value + '\\b' : "", true, false).draw();
                            })
                            .appendTo('#selectRankFilter');
                    }
                });

            }

            catch (err) {
                alert(err);
            }
        }

        function getStatisticsSuccess(statisticsdict) {
            console.log(statisticsdict);

            //For writing
            var numgamers = String(statisticsdict["1"]);
            var numorgenaizers = String(statisticsdict["2"]);
            var numfuturecomp = String(statisticsdict["3"]);
            var numpastcomp = String(statisticsdict["4"]);

            document.getElementById("num_gamers").innerHTML = numgamers;
            document.getElementById("num_orgenaizers").innerHTML = numorgenaizers;
            document.getElementById("num_futurecomp").innerHTML = numfuturecomp;
            document.getElementById("num_pastcomp").innerHTML = numpastcomp;

            //FIX IT TO BE HIGHER THEN 0*******************************************************************************************
            if (parseInt(statisticsdict["7"]) > 0) //Competition waithing
            {

                document.getElementById("competitions_waithing").style.visibility = "visible";
            }
            else {

                document.getElementById("competitions_waithing").style.visibility = "visible";
            }

            if (parseInt(statisticsdict["5"]) > 0) //Gamers waithing
            {
                document.getElementById("gamers_waithing").style.visibility = "visible";
            }
            else {

                document.getElementById("gamers_waithing").style.visibility = "hidden";
            }

            if (parseInt(statisticsdict["6"]) > 0) //Gamers waithing
            {
                document.getElementById("orgenaizers_waithing").style.visibility = "visible";
            }
            else {
                document.getElementById("orgenaizers_waithing").style.visibility = "hidden";
            }



        }

        function addcategoryModal() {

            str = '';
            str += "<div style='margin-top:8px'></div>";
            str += "<form id='ca_CreateForm' class='was-validated' onclick='return false'>";
            str += "<div class='row'>";
            str += "<div class='col-lg-5'>";
            str += "<div class='mb-3'>";
            str += "<label>שם קטגוריה:</label>";
            str += "<input type='text' class='form-control' id='categoryaddTB' pattern='.{2,40}' oninvalid='this.setCustomValidity('מינימום 2 תויים, ועד 40')' oninput='this.setCustomValidity('')' required>";
            str += "</div>";
            str += "</div>";
            str += "</div>";

            str += "</form>";

            str += "<div style='margin-bottom:8px'></div>";

            document.getElementById("add_category_modalJS").innerHTML = str;

        }

        function ranksModal() {

            str = '';
            str += "<div style='margin-top:8px'></div>";
            //str += "<form id='ca_CreateForm' class='was-validated' onclick='return false'>";
            str += "<div class='row'>";
            str += "<div class='col-lg-5'>";
            str += "<div class='mb-3'>";
            str += "<label>סיסמא:</label>";
            str += "<input type='password' id='rankpass'>";
            str += "</div>";
            str += "</div>";
            str += "</div>";

            str += "</form>";

            str += "<div style='margin-bottom:8px'></div>";

            document.getElementById("ranks_modalJS").innerHTML = str;

        }

        function editcategoryModal(categoryname) {

            str = '';
            str += "<div style='margin-top:8px'></div>";
            str += "<form id='ca_EditForm' class='was-validated' onclick='return false'>";
            str += "<div class='row'>";
            str += "<div class='col-lg-5'>";
            str += "<div class='mb-3'>";
            str += "<label>שם קטגוריה:</label>";
            str += "<input type='text' class='form-control' id='categoryeditTB' pattern='.{2,40}' oninvalid='this.setCustomValidity('מינימום 2 תויים, ועד 40')' oninput='this.setCustomValidity('')' required>";
            str += "</div>";
            str += "</div>";
            str += "</div>";

            str += "</form>";

            str += "<div style='margin-bottom:8px'></div>";

            document.getElementById("edit_category_modalJS").innerHTML = str;

            $("#categoryeditTB").val(categoryname);

        }


    </script>


</head>
<body onload="init()">

    <!-- Section: Header -->
    <div class="user-nav">
        <span style="margin-left: 9px;">שלום עומר</span>
        <span style="margin-left: 9px;">|</span>
        <a href="index.html"><i class="bi bi-box-arrow-right" style="position:relative; top: 1px; left: 1.5px;"></i> התנתק </a>
    </div>

    <header class="header">
        <div class="top-navbar">
            <section class="wrapper">

                <div style="display:flex">
                    <a href="index.html">
                        <img src="../uploadedFiles/Site-Photos/Iesaprojectlogo.png" alt="העמותה לגיימינג תחרותי בישראל" class="logo-img-primary" style="margin-right: 1.6rem;">
                    </a>
                    <span style="margin-right:9px;"></span>
                    <span style="margin-left: 14px; border-left: 1px solid #979797;"></span>
                    <a href="TemplatePage_Site.html">
                        <img src="../uploadedFiles/Site-Photos/navbarisrael.png" alt="העמותה לגיימינג תחרותי בישראל" class="logo-img-primary" style="height:33px; margin-top: 7px;">
                    </a>
                </div>

                <button type="button" class="opened-menu">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div class="overlay"></div>


                <nav class="navbar">
                    <button type="button" class="closed-menu">
                        <img src="https://www.cssscript.com/demo/responsive-single-level-dropdown-menu/asset/closed.svg" class="closed-icon" alt="closed">
                    </button>
                    <ul class="menu">
                        <li class="menu-item"><a href="manager_main_page.html" id="mang-nav">ניהול מערכת</a></li>
                        <li class="menu-item"><a href="database.html" id="data-nav">מאגר מידע</a></li>
                        <li class="menu-item"><a href="add_new_post.html" id="post-nav">יצירת פוסט</a></li>
                        <li class="menu-item"><a href="edit_personal_details.html" id="edit-nav">עריכת פרטים</a></li>
                        <li class="menu-item"><a href="index.html" id="site-nav">אתר העמותה</a></li>
                    </ul>
                </nav>

            </section>
        </div>
    </header>
    <!-- Section: Header -->

    <div class="nav-gap"></div>

    <!--Section: Content-->
    <section id="content">

        <div class="container">

            <section id="page_title">
                <a class="titlelink" href="Manager_Main_Page.html">ניהול מערכת </a>
                <svg style="width: .5em; transform: rotate(180deg); vertical-align: -.17em;" svg-inline--fa fa-angle-right fa-w-8" aria-hidden="true" focusable="false" data-prefix="fa" data-icon="angle-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 512"><path fill="currentColor" d="M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z"></path></svg>
                <h2 class="headh2">מאגר מידע</h2>
                <div class="divdown"></div>
            </section>


            <div class="row">

                <div class="col" style="margin:3px;">

                    <p>· תזכורות בנוגע לניהול המידע:</p>
                    <i class="bi bi-info-circle"></i><span>הרשומות השונות במאגר המידע ניתנות להשבתה על מנת להימנע ממחיקתם לצמיתות</span>
                    <br />
                    <i class="bi bi-info-circle"></i><span>ניתן למחוק משתמש המוגדר כמנהל באמצעות מסד הנתונים של המערכת</span>

                    <div style="margin-bottom: 40px">
                    </div>

                </div>

            </div>



            <h3 class="nk-decorated-h-2"><span><span>טבלאות</span> מידע</span></h3>

            <br />


            <nav>
                <div class="nav nav-tabs" id="nav-tab" role="tablist">
                    <button class="nav-link active" id="nav-posts-tab" data-bs-toggle="tab" data-bs-target="#nav-posts" type="button" role="tab" aria-controls="nav-posts" aria-selected="true">פוסטים</button>
                    <button class="nav-link" id="nav-competitions-tab" data-bs-toggle="tab" data-bs-target="#nav-competitions" type="button" role="tab" aria-controls="nav-competitions" aria-selected="false">תחרויות</button>
                    <button class="nav-link" id="nav-ranks-tab" data-bs-toggle="tab" data-bs-target="#nav-ranks" type="button" role="tab" aria-controls="nav-ranks" aria-selected="false">דירוגים</button>
                    <button class="nav-link" id="nav-gamers-tab" data-bs-toggle="tab" data-bs-target="#nav-gamers" type="button" role="tab" aria-controls="nav-gamers" aria-selected="false">שחקנים</button>
                    <button class="nav-link" id="nav-orgenaizers-tab" data-bs-toggle="tab" data-bs-target="#nav-orgenaizers" type="button" role="tab" aria-controls="nav-orgenaizers" aria-selected="false">מארגנים</button>
                    <button class="nav-link" id="nav-managers-tab" data-bs-toggle="tab" data-bs-target="#nav-managers" type="button" role="tab" aria-controls="nav-managers" aria-selected="false">מנהלים</button>
                    <button class="nav-link" id="nav-categories-tab" data-bs-toggle="tab" data-bs-target="#nav-categories" type="button" role="tab" aria-controls="nav-categories" aria-selected="false">קטגוריות משחק</button>
                </div>
            </nav>


            <div class="tab-content" id="nav-tabContent">

                <br />

                <div class="tab-pane fade show active" id="nav-posts" role="tabpanel" aria-labelledby="nav-posts-tab">
                    <!--#1-->
                    <!--Posts Table-->
                    <div class="row">
                        <div class="col">

                            <form id="pForm">

                                <table id="RedTitle" class="nk-table" style="width:100%">
                                    <thead>
                                        <tr>
                                            <th style="background: #dd163b">פוסטים</th>
                                        </tr>
                                    </thead>
                                </table>
                                <table id="PostsTable" class="Bordertable nowrap table table-bordered table table-dark table-striped" style="width:100%;">
                                    <thead>
                                        <tr>
                                            <th style="max-width: 70px;">מספר פוסט</th>
                                            <th style="max-width: 100px;">כותרת</th>
                                            <th style="max-width: 70px;">קטגוריה</th>
                                            <th style="max-width: 70px;">מספר צפיות</th>
                                            <th style="max-width: 70px;">תאריך פרסום</th>
                                            <th style="max-width: 60px;">פעולות</th>
                                        </tr>
                                    </thead>
                                </table>
                            </form>

                            <button class="add-post-button" onclick="return false;"><span style="position:relative; bottom:3px; right:2px;"> הוספת פוסט חדש</span><i class="bi bi-plus-circle" style="position:relative; right:1.5px; bottom:1px;"></i></button>

                        </div>

                    </div>

                </div>


                <div class="tab-pane fade" id="nav-competitions" role="tabpanel" aria-labelledby="nav-competitions-tab">
                    <!--#2-->
                    <!--Competitions Table-->
                    <div class="row">
                        <div class="col">

                            <form id="cForm">
                                <table id="RedTitle" class="nk-table" style="width:100%">
                                    <thead>
                                        <tr>
                                            <th style="background: #dd163b">תחרויות</th>
                                        </tr>
                                    </thead>
                                </table>
                                <table id="CompetitionsTable" class="Bordertable nowrap table table-bordered table table-dark table-striped" style="width:100%;">
                                    <thead>
                                        <tr>
                                            <th style="max-width: 55px;">מס' תחרות</th>
                                            <th style="max-width: 73px;">כותרת</th>
                                            <th style="max-width: 60px;">סטאטוס</th>
                                            <th style="max-width: 35px;">שיוך</th>
                                            <th style="max-width: 35px;">סוג</th>
                                            <th style="max-width: 50px;">שם מארגן</th>
                                            <th style="max-width: 75px;">תאריך התחלה</th>
                                            <th style="max-width: 75px;">תאריך סיום</th>
                                            <th style="max-width: 60px;">פעולות</th>
                                        </tr>
                                    </thead>
                                </table>
                            </form>

                            <button class="add-competition-button" onclick="return false;"><span style="position:relative; bottom:3px; right:2px;"> הוספת תחרות חדשה</span><i class="bi bi-plus-circle" style="position:relative; right:1.5px; bottom:1px;"></i></button>

                        </div>

                    </div>

                </div>

                <div class="tab-pane fade" id="nav-ranks" role="tabpanel" aria-labelledby="nav-ranks-tab">

                    <div id="divfilterrank">
                        <span style="margin:4px;">קטגוריה:</span><span id="selectRankFilter"></span>
                    </div>


                    <!--#7-->
                    <!--Ranks Table-->
                    <div class="row">
                        <div class="col">

                            <form id="rForm">
                                <table id="RedTitle" class="nk-table" style="width:100%">
                                    <thead>
                                        <tr>
                                            <th style="background: #dd163b">דירוגים</th>
                                        </tr>
                                    </thead>
                                </table>
                                <table id="RanksTable" class="Bordertable nowrap table table-bordered table table-dark table-striped" style="width:100%;">
                                    <thead>
                                        <tr>
                                            <th style="max-width: 60px;">שם קטגוריה</th>
                                            <!--<th style="max-width: 50px;">דירוג</th>-->
                                            <th style="max-width: 70px;">שם שחקן</th>
                                            <th style="max-width: 100px;">כינוי</th>
                                            <th style="max-width: 50px;">ניקוד עונתי</th>
                                            <th style="max-width: 50px;">פעולות</th>
                                        </tr>
                                    </thead>
                                </table>
                            </form>

                            <button class="reset-rank-button" onclick="return false;"><span style="position:relative; bottom:3px; right:2px;"> איפוס דירוגים</span><i class="bi bi-dash-circle" style="position:relative; right:1.5px; bottom:1px;"></i></button>

                        </div>

                    </div>

                </div>

                <div class="tab-pane fade" id="nav-gamers" role="tabpanel" aria-labelledby="nav-gamers-tab">
                    <!--#3-->
                    <!--Gamers Table-->
                    <div class="row">
                        <div class="col">

                            <form id="gForm">
                                <table id="RedTitle" class="nk-table" style="width:100%">
                                    <thead>
                                        <tr>
                                            <th style="background: #dd163b">שחקנים</th>
                                        </tr>
                                    </thead>
                                </table>
                                <table id="GamersTable" class="Bordertable nowrap table table-bordered table table-dark table-striped" style="width:100%;">
                                    <thead>
                                        <tr>
                                            <th style="max-width: 70px;">מספר שחקן</th>
                                            <th style="max-width: 25px;">שם</th>
                                            <th style="max-width: 70px;">שם משפחה</th>
                                            <th style="max-width: 50px;">כינוי</th>
                                            <th style="max-width: 50px;">טלפון</th>
                                            <th style="max-width: 55px;">אימייל</th>
                                            <th style="max-width: 70px;">תאריך לידה</th>
                                            <th style="max-width: 60px;">פעולות</th>
                                        </tr>
                                    </thead>
                                </table>
                            </form>

                        </div>

                    </div>

                </div>

                <div class="tab-pane fade" id="nav-orgenaizers" role="tabpanel" aria-labelledby="nav-orgenaizers-tab">
                    <!--#4-->
                    <!--Orgenaizers Table-->
                    <div class="row">
                        <div class="col">

                            <form id="oForm">
                                <table id="RedTitle" class="nk-table" style="width:100%">
                                    <thead>
                                        <tr>
                                            <th style="background: #dd163b">מארגנים</th>
                                        </tr>
                                    </thead>
                                </table>
                                <table id="OrgenaizersTable" class="Bordertable nowrap table table-bordered table table-dark table-striped" style="width:100%;">
                                    <thead>
                                        <tr>
                                            <th style="max-width: 70px;">מספר מארגן</th>
                                            <th style="max-width: 25px;">שם</th>
                                            <th style="max-width: 70px;">שם משפחה</th>
                                            <th style="max-width: 50px;">שם הקהילה</th>
                                            <th style="max-width: 50px;">טלפון</th>
                                            <th style="max-width: 70px;">אימייל</th>
                                            <th style="max-width: 70px;">תאריך לידה</th>
                                            <th style="max-width: 60px;">פעולות</th>
                                        </tr>
                                    </thead>
                                </table>
                            </form>

                        </div>

                    </div>

                </div>

                <div class="tab-pane fade" id="nav-managers" role="tabpanel" aria-labelledby="nav-managers-tab">
                    <!--#5-->
                    <!--Managers Table-->
                    <div class="row">
                        <div class="col">

                            <form id="mForm">
                                <table id="RedTitle" class="nk-table" style="width:100%">
                                    <thead>
                                        <tr>
                                            <th style="background: #dd163b">מנהלים</th>
                                        </tr>
                                    </thead>
                                </table>
                                <table id="ManagersTable" class="Bordertable nowrap table table-bordered table table-dark table-striped" style="width:100%;">
                                    <thead>
                                        <tr>
                                            <th style="max-width: 70px;">מספר מנהל</th>
                                            <th style="max-width: 25px;">שם</th>
                                            <th style="max-width: 70px;">שם משפחה</th>
                                            <th style="max-width: 70px;">תפקיד</th>
                                            <th style="max-width: 50px;">טלפון</th>
                                            <th style="max-width: 55px;">אימייל</th>
                                            <th style="max-width: 70px;">תאריך לידה</th>
                                            <th style="max-width: 60px;">פעולות</th>
                                        </tr>
                                    </thead>
                                </table>
                            </form>

                        </div>

                    </div>

                </div>

                <div class="tab-pane fade" id="nav-categories" role="tabpanel" aria-labelledby="nav-categories-tab">

                    <div id="divfiltercategory">
                        <span style="margin:4px;">קטגוריה:</span><span id="selectCategoryFilter"></span>
                    </div>


                    <!--#6-->
                    <!--Categories Table-->
                    <div class="row">
                        <div class="col">

                            <form id="caForm">
                                <table id="RedTitle" class="nk-table" style="width:60%; margin-left: auto; margin-right: auto;">
                                    <thead>
                                        <tr>
                                            <th style="background: #dd163b">קטגוריות משחק</th>
                                        </tr>
                                    </thead>
                                </table>
                                <table id="CategoriesTable" class="Bordertable nowrap table table-bordered table table-dark table-striped" style="width:60%;">
                                    <thead>
                                        <tr>
                                            <th style="max-width: 80px;">שם קטגוריה</th>
                                            <th style="max-width: 60px;">שיוך</th>
                                            <th style="max-width: 50px;">פעולות</th>
                                        </tr>
                                    </thead>
                                </table>
                            </form>

                            <button class="add-category-button" onclick="return false;"><span style="position:relative; bottom:3px; right:2px;"> הוספת קטגוריה</span><i class="bi bi-plus-circle" style="position:relative; right:1.5px; bottom:1px;"></i></button>

                        </div>

                    </div>

                </div>

            </div> <!--End of tabs-->
            <!-- The Modal Ranks-->
            <div id="Modal_Ranks" class="modal">

                <!-- Modal content -->
                <div class="modal-content" style="text-align:right">

                    <div class="modal-header">
                        <!--<span class="close">&times;</span>-->
                        <h4>איפוס דירוגי קטגוריה</h4>
                    </div>

                    <div id="ranks_modalJS" class="modal-body">

                    </div>

                    <div class="modal-footer">
                        <button id="closebtn_ranks" type="button" class="btn btn-danger">סגור</button>
                        <input type="submit" id="passwordcheck" class="btn btn-success" form="ca_CreateForm" value="אישור" /> <!--to edit-->

                    </div>

                </div>

            </div> <!-- The Modal Ranks-->
            <!-- The Modal Create-->
            <div id="Modal_C_Create" class="modal">

                <!-- Modal content -->
                <div class="modal-content" style="text-align:right">

                    <div class="modal-header">
                        <!--<span class="close">&times;</span>-->
                        <h4>הוספת קטגורית משחק</h4>
                    </div>

                    <div id="add_category_modalJS" class="modal-body">

                    </div>

                    <div class="modal-footer">
                        <button id="closebtn_createc" type="button" class="btn btn-danger">סגור</button>
                        <input type="submit" id="categoryadd" class="btn btn-success" form="ca_CreateForm" value="שמור" />

                    </div>

                </div>

            </div> <!-- The Modal Create-->
            <!-- The Modal Edit-->
            <div id="Modal_C_Edit" class="modal">

                <!-- Modal content -->
                <div class="modal-content" style="text-align:right">

                    <div class="modal-header">
                        <!--<span class="close">&times;</span>-->
                        <h4>עריכת קטגורית משחק</h4>
                    </div>

                    <div id="edit_category_modalJS" class="modal-body">

                    </div>

                    <div class="modal-footer">
                        <button id="closebtn_editc" type="button" class="btn btn-danger">סגור</button>
                        <input type="submit" id="categoryedit" class="btn btn-success" form="ca_EditForm" value="שמור" />

                    </div>

                </div>

            </div> <!-- The Modal Edit-->


        </div> <!--container-->

    </section>
    <!--Section: Content-->
    <!-- Section: Footer -->
    <section id="site_footer">
        <div class="footer-system">

            <div class="sub-footer">
                <div class="row">

                    <div class="col" style="text-align:center">

                        <p>לכל תקלה או שאלה על המערכת ניתן לכתוב לנו בדף יצירת קשר - למעבר לעמוד <a href="Contact.html">לחצו כאן</a></p>

                    </div>

                </div>
            </div>

        </div>
    </section>
    <!-- Section: Footer -->

</body>
</html>