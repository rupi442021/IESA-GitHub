<!DOCTYPE html>
<html dir="rtl">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="../../Scripts/jquery-3.4.1.min.js"></script>
    <script src="../Scripts/GeneralFunctions.js"></script>
    <script src="../Scripts/ajaxCalls.js"></script>

    <!--Data Tables-->

    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.24/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.dataTables.min.css">
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap.min.js"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.0/font/bootstrap-icons.css">

    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.14.0/jquery.validate.min.js"></script>


    <!--Data Tables-->

    <title>&#x202E; ניסיון טבלאות מידע – ASEI</title>
    <link rel="icon" href="https://iesa.org.il/wp-content/uploads/2020/04/cropped-favic-32x32.png">

    <style type="text/css">

        /*Template Style*/

        body {
            background-color: #212529;
            color: white;
            letter-spacing: .015em;
        }

        .container {
            background-color: #292e38;
            max-width: 1110px;
            height: 1400px;
            padding-top: 30px;
            position: relative;
        }

        .jumbotron {
            height: 70px;
            text-align: center;
            padding: 10px;
            margin-bottom: 20px;
        }

        /*Page title Open*/

        .titlelink {
            color: #FFFFFF;
            text-decoration: none;
            margin: 3px;
            font-weight: 600;
            font-size: 1.04rem;
            letter-spacing: .015em;
            line-height: 2;
        }

            .titlelink:hover {
                color: #04b8a5;
                transition: .15s color;
            }

        .headh2 {
            display: flex;
            align-items: center;
            /*margin-bottom: 55px;*/ /*#1*/
            font-weight: 600;
            letter-spacing: .015em;
            /*margin: 3px;*/ /*#2*/
        }

            .headh2::after {
                content: '';
                flex: 1;
                margin-right: 10px;
                margin-top: 23px;
                opacity: 0.84;
                height: 2px;
                background-color: #fff;
            }

        .divdown {
            margin-bottom: 60px;
        }

        /*Page title Close*/

        /*        .dataTables_filter, .dataTables_info {
            display: none;
        }

        .dataTables_filter, .dataTables_info {
            display: none;
        }*/

        div.dataTables_wrapper div.dataTables_length label {
            display: none;
        }

        div.dataTables_wrapper div.dataTables_filter label {
            position: absolute;
            top: -45px;
            right: 77%;
        }


        @media only screen and (max-width: 1040px) {
            div.dataTables_wrapper div.dataTables_filter input {
                width: 150px;
            }

            div.dataTables_wrapper div.dataTables_filter label {
                right: 75%;
            }
        }

        @media only screen and (max-width: 820px) {
            div.dataTables_wrapper div.dataTables_filter input {
                width: 100px;
            }

            div.dataTables_wrapper div.dataTables_filter label {
                right: 65%;
            }
        }

        div.dataTables_wrapper div.dataTables_filter input {
            background: white !important;
        }


        .nk-table.nk-table thead td, .nk-table.nk-table thead th {
            padding: 11px 18px;
        }

        .nk-table thead {
            font-size: 1.32rem;
            background-color: #dd163b;
        }


        table {
            border-collapse: collapse;
            width: 20%;
            background-color: #363d49;
        }

        td {
            font-size: 14px;
            font-family: Arial;
        }

        tr:nth-child(odd) {
            background-color: red;
        }

        tr:nth-child(even) {
            background-color: cadetblue;
        }

        th {
            color: #fff;
            font-family: "Open Sans",sans-serif;
            background: #2c3e50;
            font-weight: bold;
        }

        .dataTables_paginate {
            float: left !important;
        }


        .uniqueClassName {
            text-align: center;
        }

        table.dataTable thead .sorting:after {
            opacity: .0 !important;
        }

        .table > :not(:last-child) > :last-child > * {
            border-bottom-color: #181c23;
        }


        .btn-link {
            text-decoration: none;
        }

        i {
            font-size: 1.27em;
            padding: 5px;
        }

        a {
            color: white;
            text-decoration: none;
            /*font-family: arial;*/
        }

            a:hover {
                color: #04b8a5;
                transition: .15s color;
            }

            /*            a.reject:hover {
                color: #ed4564;
                transition: .15s color;
            }*/

            a.delete:hover {
                color: #ed4564;
                transition: .15s color;
            }

            a.edit:hover {
                color: #f3cc5b;
                transition: .15s color;
            }

            a.view:hover {
                color: #5c99f0;
                transition: .15s color;
            }


        .table-dark {
            --bs-table-bg: #363c4a !important;
            --bs-table-striped-bg: #2e333e !important;
        }

        .dataTables_wrapper .dataTables_length, .dataTables_wrapper .dataTables_filter, .dataTables_wrapper .dataTables_info, .dataTables_wrapper .dataTables_processing, .dataTables_wrapper .dataTables_paginate {
            color: #2b2626;
        }


        tbody, td, tfoot, th, thead, tr {
            border-color: #1d232f;
        }


        #RedTitle {
            border: solid #292e38;
            border-width: 0px 0px 1px 1px;
        }

        .Bordertable {
            border: solid #1d232f !important;
            border-width: 1px 0px 1px 1px !important;
        }

        /*button add post*/

        .add-post-button {
            border-radius: 3px;
            color: #181c23;
            background-color: #fff;
            border: 1px solid #aaa;
            padding: 3px 6px;
            text-decoration: none;
            font-weight: 600;
            transition-duration: 0.20s;
            position: absolute;
            bottom: 65.5%;
            right: 81.9%;
        }

            .add-post-button:hover {
                background-color: #e0e0e0;
            }


        @media only screen and (max-width: 1040px) {
            .add-post-button {
                right: 77.5%;
                bottom: 24.3%;
                /*right: 77.5%;*/
            }
        }

        @media only screen and (max-width: 820px) {
            .add-post-button {
                right: 60%;
                bottom: 22%;
                /*right: 60%;*/
            }
        }


        #pForm > div.dataTables_wrapper div.dataTables_filter label { /*Search box - Posts*/
            position: absolute;
            top: -46px;
            right: 59.5%;
        }

        .add-competition-button {
            border-radius: 3px;
            color: #181c23;
            background-color: #fff;
            border: 1px solid #aaa;
            padding: 3px 6px;
            text-decoration: none;
            font-weight: 600;
            transition-duration: 0.20s;
            position: absolute;
            bottom: 65.5%;
            right: 80.1%;
        }

            .add-competition-button:hover {
                background-color: #e0e0e0;
            }

        #cForm > div.dataTables_wrapper div.dataTables_filter label {
            position: absolute;
            top: -46px;
            right: 57.6%;
        }

        .add-category-button {
            border-radius: 3px;
            color: #181c23;
            background-color: #fff;
            border: 1px solid #aaa;
            padding: 3px 6px;
            text-decoration: none;
            font-weight: 600;
            transition-duration: 0.20s;
            position: absolute;
            bottom: 65.5%;
            right: 63.8%;
        }

            .add-category-button:hover {
                background-color: #e0e0e0;
            }

        #caForm > div.dataTables_wrapper div.dataTables_filter label {
            position: absolute;
            top: -46px;
            right: 41.3%;
        }

        #caForm > div.dataTables_wrapper div.dataTables_paginate {
            margin-left: 34%;
        }


        /*/*button add post*/

        /*title try*/

        .nk-decorated-h, .nk-decorated-h-2 {
            display: flex;
        }

            .nk-decorated-h-2::after, .nk-decorated-h-2::before {
                border-bottom-color: #353c4a !important;
            }

            .nk-decorated-h-2::before, .nk-decorated-h::before {
                flex: 20px !important;
                width: 20px !important;
                min-width: 20px !important;
            }

            .nk-decorated-h-2::after, .nk-decorated-h-2::before, .nk-decorated-h::after, .nk-decorated-h::before {
                content: "";
                display: block;
                flex: 100;
                border-bottom: 4px solid;
                transform: translateY(-10px);
            }

            .nk-decorated-h-2::after, .nk-decorated-h-2::before {
                border-bottom-color: #353c4a;
            }

            .nk-decorated-h-2::after, .nk-decorated-h-2::before, .nk-decorated-h::after, .nk-decorated-h::before {
                content: "";
                display: block;
                flex: 100;
                border-bottom: 4px solid;
                transform: translateY(-10px);
            }

            .nk-decorated-h-2 > a, .nk-decorated-h-2 > span, .nk-decorated-h > a, .nk-decorated-h > span {
                display: block;
                flex: auto;
                padding-right: 20px;
                padding-left: 20px;
            }

        /*title try*/


        div#services_block {
            height: 355px;
            background-color: #3c4250;
            border-left: 6px solid #292e38;
            border-right: 6px solid #292e38;
        }

        .nav-tabs .nav-link { /*Color of the tabs*/
            color: #fbf5f5;
            margin-left: 7px;
        }

        .bi-person::before { /*Person icon*/
            font-size: 20px;
        }

        .bi-info-circle::before { /*Info icon*/
            font-size: 17px;
        }




        /* The Modal (background) */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1; /* Sit on top */
            padding-top: 15%; /* Location of the box */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgb(0,0,0); /* Fallback color */
            background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
            color: black;
        }

        /* Modal Content */
        .modal-content {
            position: relative;
            background-color: #fefefe;
            margin: auto;
            padding: 0;
            border: 1px solid #888;
            width: 30%;
            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);
            -webkit-animation-name: animatetop;
            -webkit-animation-duration: 0.4s;
            animation-name: animatetop;
            animation-duration: 0.4s;
        }

        /* Add Animation */
        @-webkit-keyframes animatetop {
            from {
                top: -300px;
                opacity: 0
            }

            to {
                top: 0;
                opacity: 1
            }
        }

        @keyframes animatetop {
            from {
                top: -300px;
                opacity: 0
            }

            to {
                top: 0;
                opacity: 1
            }
        }

        /* The Close Button */

        .modal-header {
            padding: 6px 16px;
            background-color: #dd163b;
            color: white;
            /*            font-family: "Open Sans",sans-serif;*/
        }

        .modal-body {
            padding: 2px 16px;
        }

        .modal-footer {
            padding: 2px 16px;
            color: white;
        }

        .btn-danger {
            width: 75px;
        }

        #categoryedit {
            width: 75px;
        }

        #divfiltercategory {
            color: #2b2626;
            position: absolute;
            top:3%;
            right:55%;
        }

        select {
            height: 30px;
        }


    </style>

    <script>

        function init() {
            ajaxCall("GET", "../api/Competitions/tableRdb", "", getRanksSuccess, Error); //Database.html - method OD12

        }



        function getRanksSuccess(ranksdata) {
            console.log(ranksdata);

            ranks = ranksdata;

            try {
                tbl7 = $('#RanksTable').DataTable({
                    data: ranksdata,
                    "order": [[0, "asc"], [3, "desc"]],
                    "language": {
                        "info": "",
                        "infoEmpty": "",
                        "infoFiltered": "",
                        "emptyTable": "אין נתונים זמינים בטבלה",
                        "zeroRecords": "לא נמצאו תוצאות",
                        "search": "חפש: ",
                        "paginate": {
                            "previous": "הקודם",
                            "next": "הבא",
                        },
                    },
                    responsive: true,
                    pageLength: 10,
                    columns: [
                        { data: "Competitionname", className: "uniqueClassName" },
                        { data: "Body", className: "uniqueClassName" },
                        { data: "Address1", className: "uniqueClassName" },
                        { data: "Isiesa", className: "uniqueClassName" },
                        {
                            render: function (data, type, row, meta) {
                                let dataRanksGamer = "data-rankgamerid='" + row.Numofparticipants + "'"; //User id for buttons

                                R_viewBtn = "<a href='javascript:;' class='view' title='צפה'><i class='R_viewBTN bi bi-eye' " + dataRanksGamer + "></i></a>";

                                return R_viewBtn;
                            }
                            , className: "uniqueClassName"
                        }

                    ],
                    "initComplete": function () {
                        var column = this.api().column(0);

                        var values = [];
                        column.data().each(function (d, j) {
                            d.split(",").forEach(function (data) {
                                data = data.trim();

                                if (values.indexOf(data) === -1) {
                                    values.push(data);
                                }
                            });
                        });

                        $('<select class="filter"><option value=""></option></select>')
                            .append(values.sort().map(function (o) {
                                return '<option value="' + o + '">' + o + '</option>';
                            }))
                            .on('change', function () {
                                column.search(this.value ? '\\b' + this.value + '\\b' : "", true, false).draw();
                            })
                            .appendTo('#selectCategoryFilter');
                    }
                });

            }

            catch (err) {
                alert(err);
            }
        }


    </script>


</head>
<body onload="init()">

    <div class="container">

        <div id="divfiltercategory">
            <span style="margin:4px;">קטגוריה:</span><span id="selectCategoryFilter"></span>
        </div>

    <!--#7-->
    <!--Ranks Table-->
    <div class="row">
        <div class="col">
            <form id="rForm">
                <table id="RedTitle" class="nk-table" style="width:100%">
                    <thead>
                        <tr>
                            <th style="background: #dd163b">דירוגים</th>
                        </tr>
                    </thead>
                </table>
                <table id="RanksTable" class="Bordertable nowrap table table-bordered table table-dark table-striped" style="width:100%;">
                    <thead>
                        <tr>
                            <th style="max-width: 70px;">שם קטגוריה</th>
                            <th style="max-width: 70px;">שם מלא</th>
                            <th style="max-width: 70px;">כינוי</th>
                            <th style="max-width: 70px;">ניקוד</th>
                            <th style="max-width: 50px;">פעולות</th>
                        </tr>
                    </thead>
                </table>
            </form>

        </div>

    </div>

    </div>

</body>
</html>